# 迷宫寻宝与Boss战

这是一个使用 C++ 和 Qt 框架开发的桌面游戏，融合了迷宫探索、资源收集、密码破解和回合制 Boss 战等多种元素。

## 主要功能

- **两种游戏模式**:
  - **随机生成**: 程序可以根据用户指定的大小动态生成一个随机但保证可达的迷宫。
  - **文件加载**: 支持从 `.json` 文件加载预设的迷宫布局、Boss 属性和玩家技能。
- **丰富的地图元素**:
  - **基本元素**: 墙壁、道路、起点和终点。
  - **交互元素**: 陷阱、金币、线索、密码锁。
- **解谜系统**:
  - 玩家需要在迷宫中收集线索。
  - 根据收集到的线索，通过回溯算法推断出所有可能的密码组合，并破解最终密码以打开出口。
- **玩家系统**:
  - 玩家拥有生命值、资源等属性。
  - 踩到陷阱会触发屏幕震动和扣血效果。
- **Boss 战**:
  - 成功走出迷宫后，会进入一个回合制的 Boss 战界面。
  - 玩家需要利用从文件中加载的技能，策略性地击败多个 Boss。
  - Boss 战采用分支限界算法来为玩家推荐最优的技能释放顺序。
- **AI 辅助**:
  - 提供“一键开挂”功能，使用 A* 算法为玩家规划出从当前位置到终点的最优路径。
  - 玩家可以沿着规划好的路径自动行走。
- **精美的图形界面**:
  - 使用 Qt 的 `QPainter` 进行自定义渲染，实现了流畅的动画效果（如玩家、金币、Boss 的动态图）。
  - 采用多线程渲染，确保主 UI 线程的流畅性。

## 技术栈

- **编程语言**: C++17
- **框架**: Qt 6
- **构建系统**: CMake
- **编译器**: MinGW g++ (Windows)

## 如何编译和运行

**环境要求**:

- Qt 6.x (需正确配置系统环境变量)
- CMake (3.16 或更高版本)
- MinGW g++ (或任何支持 C++17 的编译器)

**编译步骤**:

1. 克隆或下载本仓库。
2. 在项目根目录创建一个 `build` 文件夹。

    ```bash
    mkdir build
    cd build
    ```

3. 运行 CMake 生成 Makefile。

    ```bash
    cmake ..
    ```

4. 使用 make 命令进行编译 (如果您使用 MinGW，可能需要运行 `mingw32-make`)。

    ```bash
    make
    ```

5. 编译成功后，可执行文件 `AlgorithmDesign.exe` 会出现在 `build` 目录下。

**运行**:
直接双击运行 `build/AlgorithmDesign.exe` 或在终端中执行它。

## 游戏玩法

1. **启动游戏**: 运行程序后，首先进入游戏选择界面。
2. **选择模式**:
    - 点击 **“文件读入”** 并选择一个 `.json` 文件来开始一个预设的关卡。
    - 点击 **“随机生成”** 并输入迷宫大小（7-51之间的奇数）来开始一个随机关卡。
3. **游戏控制**:
    - 使用 **W/A/S/D** 或 **方向键** 控制角色移动。
    - 靠近线索、密码锁时，按 **E 键** 进行交互。
4. **游戏目标**:
    - 在迷宫中探索，避开陷阱，寻找并收集所有 **线索**。
    - 收集线索后，靠近密码锁按 **E 键**，在弹出的窗口中查看所有可能的密码组合。
    - 再次靠近密码锁按 **E 键**，输入正确的密码打开出口。
    - 到达出口，进入最终的 Boss 战。
    - 在 Boss 战中，根据 AI 的提示或自己的策略，依次点击技能按钮击败所有 Boss。
5. **辅助功能**:
    - 任何时候点击 **“一键开挂”**，游戏会为您显示通往终点的最短路径，并自动寻路。

## 目录结构

```
.
├── build/              # 编译输出目录
├── img/                # 存放游戏所需的图片资源
├── src/                # 源代码目录
│   ├── heads/          # C++ 头文件 (.h)
│   ├── ui/             # Qt Designer UI 文件 (.ui)
│   └── *.cpp           # C++ 源文件 (.cpp)
├── testmap/            # 存放测试用的 .json 地图文件
├── CMakeLists.txt      # CMake 配置文件
└── README.md           # 本文档
```
